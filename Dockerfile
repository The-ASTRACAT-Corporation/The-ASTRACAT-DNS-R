# Используем официальный базовый образ Python 3.13 в легкой версии
FROM python:3.13-slim-bookworm

# Устанавливаем рабочую директорию внутри контейнера
WORKDIR /app

# Копируем ваш DNS-резолвер скрипт в рабочую директорию
COPY recursive_dns.py .

# Открываем порт 53 UDP
EXPOSE 53/udp

# Запускаем ваш скрипт при старте контейнера
# Используем 'python -u' для нес буферизованного вывода, чтобы видеть логи в реальном времени
CMD ["python", "-u", "recursive_dns.py"]
